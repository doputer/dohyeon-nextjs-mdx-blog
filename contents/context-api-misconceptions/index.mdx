---
emoji: 'ğŸ¤”'
title: 'Context APIì˜ ì˜¤í•´ì™€ ì§„ì‹¤'
description: 'Context APIì— ëŒ€í•´ ì •í™•íˆ ì•Œì•„ë´…ì‹œë‹¤'
tags:
  - react
  - context
date: 2025-10-27
---

import Problem1 from '#/context-api-misconceptions/example/problem1';
import Problem2 from '#/context-api-misconceptions/example/problem2';
import Solve1 from '#/context-api-misconceptions/example/solve1';
import Solve2 from '#/context-api-misconceptions/example/solve2';

## Props Drillingê³¼ Context API

`React`ì—ì„œ ì»´í¬ë„ŒíŠ¸ ê°„ ë°ì´í„°ë¥¼ ì „ë‹¬í•  ë•Œ ê°€ì¥ ê¸°ë³¸ì ì¸ ë°©ë²•ì€ `Props`ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ê·œëª¨ê°€ ì»¤ì§€ë©´ì„œ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ê¹Šì´ê°€ ê¹Šì–´ì§ˆ ë•Œ, ì¤‘ê°„ ë‹¨ê³„ì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ì‹¤ì œë¡œ í•´ë‹¹ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠìŒì—ë„ ë¶ˆêµ¬í•˜ê³  ë‹¨ìˆœíˆ ì „ë‹¬ë§Œì„ ìœ„í•´ `Props`ë¥¼ ë°›ì•„ì•¼ í•˜ëŠ” `Props Drilling` ë¬¸ì œê°€ ë°œìƒí•©ë‹ˆë‹¤.

```jsx
const App = () => {
  const [theme, setTheme] = useState('light');

  return <Layout theme={theme} />;
};

const Layout = ({ theme }) => {
  // !mark
  return <Header theme={theme} />; // ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ì „ë‹¬
};

const Header = ({ theme }) => {
  // !mark
  return <Profile theme={theme} />; // ì‚¬ìš©í•˜ì§€ ì•Šì§€ë§Œ ì „ë‹¬
};

const Profile = ({ theme }) => {
  return <div>{theme}</div>; // ì‹¤ì œ ì‚¬ìš©
};
```

ì´ëŸ¬í•œ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `React`ëŠ” [Context API](https://ko.react.dev/learn/passing-data-deeply-with-context)ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

`Context API`ë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ê°„ ì»´í¬ë„ŒíŠ¸ë¥¼ ê±°ì¹˜ì§€ ì•Šê³ ë„ í•„ìš”í•œ ê³³ì—ì„œ ì§ì ‘ ë°ì´í„°ì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```jsx
const ThemeContext = createContext();

const App = () => {
  const [theme, setTheme] = useState('light');

  return (
    // !mark
    <ThemeContext.Provider value={theme}>
      <Layout />
    </ThemeContext.Provider>
  );
}

...

const Profile = () => {
  // !mark
  const theme = useContext(ThemeContext);

  return <div>{theme}</div>;
}
```

í•˜ì§€ë§Œ `Context API`ì— ëŒ€í•´ í•™ìŠµí•˜ë‹¤ ë³´ë©´ ì—¬ëŸ¬ ì˜¤í•´ì™€ ì˜ëª»ëœ ì¸ì‹ì„ ì ‘í•˜ê²Œ ë©ë‹ˆë‹¤.

## ëª‡ ê°€ì§€ ì˜¤í•´

### Context APIëŠ” ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•œë‹¤

í”íˆ `Context API`ì™€ ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬(Redux, Zustand, Zotai, ...)ë¥¼ ë™ì¼í•œ ëª©ì ì„ ê°€ì§„ ë„êµ¬ë¡œ ìƒê°í•©ë‹ˆë‹¤.

Context APIëŠ” **Props Drilling ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë°ì´í„° ì „ë‹¬ ë©”ì»¤ë‹ˆì¦˜**ì´ê³ , ì•ì„œ ì–¸ê¸‰í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì€ **ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë°˜ì˜ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„êµ¬**ì…ë‹ˆë‹¤. ì¦‰, ë‘ ë°©ì‹ì€ ë¬¸ì œì˜ ì´ˆì ê³¼ ëª©ì ì´ ì„œë¡œ ë‹¤ë¦…ë‹ˆë‹¤.

**Context APIì˜ ëª©ì **

- ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì— ì „ë‹¬
- Props Drilling ë¬¸ì œ í•´ê²°
- ì˜ì¡´ì„± ì£¼ì… íŒ¨í„´

**ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ëª©ì **

- ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì „ì—­ ìƒíƒœë¥¼ ê´€ë¦¬
- ìƒíƒœ ë³€ê²½ ë¡œì§ ì¤‘ì•™í™”
- ìƒíƒœ êµ¬ë… ë° ì„ íƒì  ë Œë”ë§ ìµœì í™”

ë‹¤ì‹œ ë§í•´ `Context API`ëŠ” ì´ë¯¸ ì¡´ì¬í•˜ëŠ” ìƒíƒœë¥¼ ì–´ë””ì„œë“  ì ‘ê·¼í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ê²ƒì´ê³ , **ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬**ëŠ” ìƒíƒœ ìì²´ë¥¼ ê´€ë¦¬í•˜ê³  ìµœì í™”í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

```jsx
// Context API - ë°ì´í„° ì „ë‹¬
const ThemeContext = createContext();

const App = () => {
  // !mark
  const [theme, setTheme] = useState('light');

  return (
    <ThemeContext.Provider value={{ theme, setTheme }}>
      <Layout />
    </ThemeContext.Provider>
  );
};

// Zustand - ìƒíƒœ ê´€ë¦¬
// !mark(1:4)
const useThemeStore = create((set) => ({
  theme: 'light',
  setTheme: (theme) => set({ theme }),
}));

const App = () => {
  return <Layout />;
};
```

### Context APIëŠ” ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•œë‹¤

"`Context API`ë¥¼ ì‚¬ìš©í•˜ë©´ ê°’ì´ ë°”ë€” ë•Œë§ˆë‹¤ í•˜ìœ„ ì»´í¬ë„ŒíŠ¸ê°€ ëª¨ë‘ ë¦¬ë Œë”ë§ëœë‹¤"ëŠ” ë§ì„ ìì£¼ ë“£ìŠµë‹ˆë‹¤.

ë¶€ë¶„ì ìœ¼ë¡œ ë§ëŠ” ë§ì´ì§€ë§Œ, ì´ëŠ” `Context API` ìì²´ì˜ ë¬¸ì œë¼ê¸° ë³´ë‹¤ëŠ” ì‚¬ìš© ë°©ì‹ì˜ ë¬¸ì œì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

#### ë¬¸ì œ 1. Context APIê°€ ì•„ë‹ˆë¼ ì¼ë°˜ì ì¸ ìƒíƒœ ë¦¬ë Œë”ë§

ì•„ë˜ ì½”ë“œì—ì„  `Foo` ì»´í¬ë„ŒíŠ¸ì˜ `Provider`ë¥¼ í†µí•´ `Baz` ì»´í¬ë„ŒíŠ¸ë¡œ ìƒíƒœë¥¼ ì „ë‹¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ê·¸ë˜ì„œ `Baz` ì»´í¬ë„ŒíŠ¸ì˜ ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ `Bar` ì»´í¬ë„ŒíŠ¸ëŠ” ë¦¬ë Œë”ë§ ë˜ì§€ ì•Šì„ ê±°ë¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë‹¨ìˆœí•˜ê²Œë„ `Foo` ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœê°€ ë³€ê²½ë˜ì—ˆê¸° ë•Œë¬¸ì— ë¦¬ë Œë”ë§ì´ ë°œìƒí•˜ê³ , ìì‹ ì»´í¬ë„ŒíŠ¸ë“¤ë¡œ ë¦¬ë Œë”ë§ì´ ì „íŒŒë©ë‹ˆë‹¤.

```jsx
const Context = createContext();

const Foo = () => {
  const [value, setValue] = useState(0);

  return (
    <Context.Provider value={{ value, setValue }}>
      <div>Foo</div>
      <Bar />
    </Context.Provider>
  );
};

const Bar = () => {
  return (
    <>
      <div>Bar</div>
      <Baz />
    </>
  );
};

const Baz = () => {
  const { value, setValue } = useContext(Context);

  return (
    <>
      <div>Baz</div>
      <button onClick={() => setValue(value + 1)}>Button</button>
    </>
  );
};
```

:::callout

ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ ë¦¬ë Œë”ë§ ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”.

:::

<Problem1 />

#### í•´ê²°

ì´ëŠ” `Foo` ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ `Provider`ë¥¼ ë¶„ë¦¬í•˜ëŠ” íŒ¨í„´ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

`children`ì„ ê·¸ëŒ€ë¡œ ë Œë”ë§í•˜ëŠ” ê²½ìš° ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ ì°¸ì¡°ê°€ ì´ì „ê³¼ ë™ì¼í•˜ë©´ ë¦¬ë Œë”ë§ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ê²°êµ­ ìƒíƒœê°€ ë°”ë€Œì—ˆì„ ë•Œ `Context`ë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ” `Baz`ë§Œ ë¦¬ë Œë”ë§ ë˜ê²Œ ë©ë‹ˆë‹¤.

`useContext`ëŠ” ê¸°ì¡´ê³¼ ë™ì¼í•˜ê²Œ `Context`ë¥¼ ë§¤ê°œ ë³€ìˆ˜ë¡œ ë°›ì•„ì„œ ê°€ì¥ ê°€ê¹Œìš´ ë¶€ëª¨ì˜ `Provider`ë¥¼ ì°¾ìŠµë‹ˆë‹¤.

```jsx
const Context = createContext();

// !mark(1:5)
const Provider = ({ children }) => {
  const [value, setValue] = useState(0);

  return <Context.Provider value={{ value, setValue }}>{children}</Context.Provider>;
};

const Foo = () => {
  return (
    <Provider>
      <div>Foo</div>
      <Bar />
    </Provider>
  );
};

const Bar = () => {
  return (
    <>
      <div>Bar</div>
      <Baz />
    </>
  );
};

const Baz = () => {
  const { value, setValue } = useContext(Context);

  return (
    <>
      <div>Baz</div>
      <button onClick={() => setValue(value + 1)}>Button</button>
    </>
  );
};
```

:::callout

ì°¨ì´ë¥¼ ë¹„êµí•´ ë³´ì„¸ìš”.

:::

<Solve1 />

#### ë¬¸ì œ 2. ë…ë¦½ì ì¸ ìƒíƒœë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ê¸°

ì•„ë˜ ì½”ë“œì—ì„  `value1`ê³¼ `value2` ìƒíƒœë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ì „ë‹¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  `Bar` ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” `value1`ë§Œ ì‚¬ìš©í•˜ê³  ìˆì£ .

ê·¸ë˜ì„œ `Baz` ì»´í¬ë„ŒíŠ¸ì—ì„œ `value2` ìƒíƒœë¥¼ ë°”ê¿”ë„ `Bar` ì»´í¬ë„ŒíŠ¸ì—ì„œëŠ” ë¦¬ë Œë”ë§ ë˜ì§€ ì•Šì„ ê±°ë¼ ê¸°ëŒ€í•©ë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ `React`ëŠ” `Context`ê°€ ë³€ê²½ë˜ë©´ ì´ë¥¼ êµ¬ë…í•˜ê³  ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§ì‹œí‚µë‹ˆë‹¤.

```jsx
const Context = createContext();

const Provider = ({ children }) => {
  const [value1, setValue1] = useState(0);
  const [value2, setValue2] = useState(0);

  return (
    <Context.Provider value={{ value1, setValue1, value2, setValue2 }}>{children}</Context.Provider>
  );
};

const Foo = () => {
  return (
    <Provider>
      <div>Foo</div>
      <Bar />
      <Baz />
    </Provider>
  );
};

const Bar = () => {
  const { value1 } = useContext(Context);

  return <div>Bar</div>;
};

const Baz = () => {
  const { value2, setValue2 } = useContext(Context);

  return (
    <>
      <div>Baz</div>
      <button onClick={() => setValue2(value2 + 1)}>Button</button>
    </>
  );
};
```

<Problem2 />

#### í•´ê²°

ì´ëŠ” `Provider`ë¥¼ ìƒíƒœë³„ë¡œ ë¶„ë¦¬í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•„ìš”í•œ `Context`ë§Œ êµ¬ë…í•˜ê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ `Context`ê°€ ë³€ê²½ë˜ê³ , ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚œë‹¤ê³  í•´ë„ ë¬¸ì œê°€ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```jsx
// !mark(1:5)
const Provider1 = ({ children }) => {
  const [value1, setValue1] = useState(0);

  return <Context1.Provider value={{ value1, setValue1 }}>{children}</Context1.Provider>;
};

// !mark(1:5)
const Provider2 = ({ children }) => {
  const [value2, setValue2] = useState(0);

  return <Context2.Provider value={{ value2, setValue2 }}>{children}</Context2.Provider>;
};

const Foo = () => {
  return (
    <Provider1>
      <Provider2>
        <div>Foo</div>
        <Bar />
        <Baz />
      </Provider2>
    </Provider1>
  );
};

const Bar = () => {
  const { value1 } = useContext(Context1);

  return <div>Bar</div>;
};

const Baz = () => {
  const { value2, setValue2 } = useContext(Context2);

  return (
    <>
      <div>Baz</div>
      <button onClick={() => setValue2(value2 + 1)}>Button</button>
    </>
  );
};
```

<Solve2 />

## ê²°ë¡ 

ì •ë¦¬í•˜ìë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

- `Context API`ëŠ” ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì „ë‹¬í•˜ê¸° ìœ„í•œ ë„êµ¬ë‹¤.
- ì „ì—­ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìƒíƒœë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„êµ¬ë‹¤.
- ë‘ ë„êµ¬ëŠ” ëª©ì ì´ ë‹¤ë¥´ë©°, ì„œë¡œ ëŒ€ì²´í•˜ëŠ” ê´€ê³„ê°€ ì•„ë‹ˆë‹¤.

`Context API`ëŠ” ë§ì€ ì˜¤í•´ì™€ ë‹¬ë¦¬ ëª©ì ì— ë§ê²Œ ì‚¬ìš©í•˜ë©´ ë§¤ìš° ê°•ë ¥í•œ ë„êµ¬ì…ë‹ˆë‹¤.

ë¬¸ì œëŠ” **ë„êµ¬ ìì²´**ê°€ ì•„ë‹ˆë¼ **ë„êµ¬ë¥¼ ì–´ë–¤ ìƒí™©ì—ì„œ ì–´ë–¤ êµ¬ì¡°ë¡œ ì‚¬ìš©í•˜ëŠëƒ**ì— ìˆìŠµë‹ˆë‹¤.

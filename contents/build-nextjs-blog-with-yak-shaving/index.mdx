---
emoji: '🪒'
title: 'Next.js 기술 블로그 개발기 (feat. 야크 털 깎기)'
description: 'GatsbyJS를 떠나보내며'
tags:
  - blog
  - next
date: 2024-11-21
---

Tistory와 Velog를 떠돌아다니다가 GatsbyJS로 블로그를 직접 만들어서 운영했습니다. 하지만 후술할 GatsbyJS의 아쉬운 점들로 인해 Next.js로 마이그레이션을 결정했습니다.

이 글에서는 약 2주간 진행한 마이그레이션 과정, 그리고 이 과정에서 마주한 문제와 해결 방법을 남겨보겠습니다.

## 야크 털 깎기의 시작

뒤죽박죽 섞여버린 학습 기록들과 하염없이 늘어가는 북마크 그리고 이마저도 귀찮아지면 휘발해버리는 지식들을 보면서 다시 블로그에 글을 정리하기로 마음 먹었습니다.

그렇게 블로그를 다시 둘러보던 중 모든 것은 작은 성가심에서 시작됐습니다.

잊고 있었지만 GatsbyJS의 개발 환경에는 새로고침 후 뒤로 가기 혹은 앞으로 가기 시 항상 404 페이지가 나타나는 버그가 있습니다.

![](0.png '메인 페이지 있는데...')

간단한 네비게이션 시 일어나는 이 버그는 처음 이슈에 등록된 것이 2021년 입니다. - [Refreshing then hitting the back button causes 404](https://github.com/gatsbyjs/gatsby/issues/29469)

프레임워크 내부 동작에서 발생하는 문제이기 때문에 제 코드에서 수정하는 것은 불가능 했고, 이슈가 등록된 지 오랜 시간이 지났기 때문에 개발자가 이 문제를 해결할 가능성도 낮아보였습니다.

게다가 GatsbyJS에서 지원하는 여러가지 플러그인들이 있는데 하나의 패키지를 버전 업 해서 다른 패키지들도 연쇄적으로 버전 업하는 경우 충돌하는 일이 잦았습니다.

```
A 버전 업 -> B 버전 업 -> C 버전 업 => A와 C의 충돌💥
```

이 상황에서 제가 선택할 수 있는 방법은 크게 두 가지였습니다. 문제가 되는 부분을 무시하거나, 아니면 직접 PR을 올려서 근본적인 문제를 해결하는 것입니다.

그러나 버그를 무시한다고 해서 문제가 사라지는 것도 아니고, 계속 불편함을 갖고 블로그를 운영해야했습니다. 그리고 프레임워크의 복잡한 내부 동작을 파악하고, 코드를 수정하는 일은 많은 시간이 소요되고 까다로웠습니다. 게다가 제 코드가 머지된다는 보장도 없었고요.

이런 고민 끝에 Next.js로 마이그레이션을 선택했습니다. React 기반이기 때문에 익숙했고, 현재 활발하게 유지보수되는 프레임워크이기 때문에 GatsbyJS에서 겪었던 문제들을 만날 가능적이 적다고 판단했습니다.

![](1.png '사라진 GatsbyJs')

## Next.js로

### 마이그레이션 전 세운 몇 가지 원칙

### 기능 정리

## 기능 개발

### MDX

### 글 가져오기

### 타이포그래피

### 코드 에디터

## 바퀴 재발명 하기

### 이미지 경로 찾기

### TOC 데이터 추출하기

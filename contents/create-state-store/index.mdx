---
emoji: 'ğŸ«™'
title: 'ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§Œë“¤ì–´ë³´ê¸°'
description: 'ëœ¯ì–´ë³´ë‹ˆ ë§ˆë²•ì€ ì—†ì—ˆìŠµë‹ˆë‹¤'
tags:
  - react
  - zustand
date: 2025-10-29
---

import Example1 from '#/create-state-store/example/example1';
import Example2 from '#/create-state-store/example/example2';
import Example3 from '#/create-state-store/example/example3';
import Example4 from '#/create-state-store/example/example4';

ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ `Zustand`ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ë©´ì„œ ë™ì‘ ì›ë¦¬ë¥¼ ì´í•´í•´ ë³´ê² ìŠµë‹ˆë‹¤.

## Zustandì˜ ë™ì‘ ë°©ì‹

`Zustand`ëŠ” ì–´ë–»ê²Œ ë™ì‘í• ê¹Œìš”? ê°„ë‹¨íˆ ë§í•˜ë©´ `Zustand`ê°€ ìƒíƒœ ì €ì¥ì†Œë¥¼ ë§Œë“¤ê³ , `React`ëŠ” `useSyncExternalStore`ë¥¼ í†µí•´ ì´ë¥¼ êµ¬ë…í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

1. `Zustand`ê°€ ìƒíƒœ ì €ì¥ì†Œ ìƒì„±
2. `React`ê°€ `useSyncExternalStore`ë¡œ ìƒíƒœ ì €ì¥ì†Œ êµ¬ë…
3. ìƒíƒœê°€ ë³€ê²½ë˜ë©´ `Zustand`ê°€ ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦¼
4. `React`ê°€ ë³€ê²½ì„ ê°ì§€í•˜ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§

```mermaid
flowchart TD
  A["Zustand"] --Create--> B["Store"]
  B --Notify--> C["Component"]
  C --Subscribe--> B

  A["Zustand"] --Create--> D["Store"]
  D --Notify--> E["Component"]
  E --Subscribe--> D
```

## ê¸°ë³¸ ìƒíƒœ ì €ì¥ì†Œ

ë¨¼ì € ìµœì†Œí•œì˜ ê¸°ëŠ¥ë§Œ ê°€ì§„ ë‹¨ìˆœí•œ ì €ì¥ì†Œë¥¼ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

ì„¸ ê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°–ëŠ” ì €ì¥ì†Œë¥¼ ë§Œë“­ë‹ˆë‹¤.

1. ê°’ì„ ë°˜í™˜í•  ìˆ˜ ìˆë‹¤.
2. ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
3. ê°’ì´ ë³€ê²½ëìŒì„ ì•Œë¦´ ìˆ˜ ìˆë‹¤.

```ts basic-store.ts
type Store<T> = {
  getState: () => T;
  setState: (value: T) => void;
  subscribe: (listener: () => void) => () => void;
};

export const createStore = <T>(initialState: T) => {
  let state = initialState;
  const listeners = new Set<() => void>();

  const getState: Store<T>['getState'] = () => {
    return state;
  };

  const setState: Store<T>['setState'] = (value) => {
    const nextState = value;

    if (Object.is(nextState, state)) return;

    state = nextState;

    listeners.forEach((listener) => listener());
  };

  const subscribe: Store<T>['subscribe'] = (listener) => {
    listeners.add(listener);

    return () => listeners.delete(listener);
  };

  return { getState, setState, subscribe };
};
```

`createStore` í•¨ìˆ˜ëŠ” ì„¸ ê°€ì§€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. ë‚´ë¶€ì˜ `state`ëŠ” ë…¸ì¶œí•˜ì§€ ì•Šê³  í´ë¡œì €ë¥¼ ì´ìš©í•´ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

ì´ì œ ì´ ì €ì¥ì†Œë¥¼ `React`ê°€ êµ¬ë…í•  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. [useSyncExternalStore](https://ko.react.dev/reference/react/useSyncExternalStore) ëª…ì„¸ì— ë”°ë¼ `subscribe`ì™€ `getSnapshot` í•¨ìˆ˜ë¥¼ ì—°ê²°í•©ë‹ˆë‹¤.

```ts basic-store.ts
export const useStore = <T>(store: Store<T>) => {
  const slice = useSyncExternalStore(store.subscribe, store.getState);

  return slice;
};
```

ì €ì¥ì†ŒëŠ” ìƒíƒœê°€ ë³€ê²½ë˜ë©´ `React`ì— ì•Œë¦¬ê³ , `React`ëŠ” ìƒˆë¡œìš´ ìƒíƒœ ìŠ¤ëƒ…ìƒ·ì„ `Object.is`ë¡œ ë¹„êµí•´ ë³€ê²½ ì‹œ ì»´í¬ë„ŒíŠ¸ë¥¼ ë¦¬ë Œë”ë§í•©ë‹ˆë‹¤.

ë²Œì¨ ê¸°ë³¸ ìƒíƒœ ì €ì¥ì†Œê°€ ì™„ì„±ëìŠµë‹ˆë‹¤. ì´ì œ ê°„ë‹¨í•œ ì¹´ìš´í„° ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“¤ì–´ì„œ í…ŒìŠ¤íŠ¸í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```tsx Counter.tsx
const store = createStore(0);

const Counter = () => {
  const value = useStore(store);

  const increase = () => {
    store.setState(store.getState() + 1);
  };

  return (
    <>
      <div>Value: {value}</div>
      <button onClick={increase}>Increase Button</button>
    </>
  );
};
```

<Example1 />

### í•¨ìˆ˜í˜• ìƒíƒœ ì—…ë°ì´íŠ¸

ê¸°ì¡´ ì €ì¥ì†ŒëŠ” ì˜ ë™ì‘í•˜ì§€ë§Œ, ì´ì „ ìƒíƒœë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒ ìƒíƒœë¥¼ ê³„ì‚°í•´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìì£¼ ìˆìŠµë‹ˆë‹¤. `setState(state + 1)` ëŒ€ì‹  `setState((prev) => prev + 1)`ì²˜ëŸ¼ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë©´ ë” ì§ê´€ì ì´ê² ì£ ?

`setState` í•¨ìˆ˜ë¥¼ ì¡°ê¸ˆ í™•ì¥í•´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts primitive-store.ts
const setState: Store<T>['setState'] = (value) => {
  // !mark
  const nextState = typeof value === 'function' ? (value as (state: T) => T)(state) : value;

  if (Object.is(nextState, state)) return;

  state = nextState;

  listeners.forEach((listener) => listener());
};
```

```tsx Counter.tsx
const increase = () => {
  store.setState((prev) => prev + 1);
};
```

## íš¨ìœ¨ì ì¸ ìƒíƒœ ì €ì¥ì†Œ

ê¸°ì¡´ ì €ì¥ì†ŒëŠ” ìƒíƒœë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤ ëª¨ë“  êµ¬ë…ìì—ê²Œ ì•Œë¦½ë‹ˆë‹¤. ì›ì‹œ ê°’ì¼ ë• ë¬¸ì œê°€ ì—†ì§€ë§Œ ê°ì²´ë¥¼ ë‹¤ë£° ë•ŒëŠ” ë¶ˆí•„ìš”í•œ ë Œë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤.

ê°ì²´ë¥¼ ì €ì¥í•˜ê³  ì¼ë¶€ë§Œ ë³€ê²½í•´ ë³´ê² ìŠµë‹ˆë‹¤. `age`ê°€ ë³€ê²½ë˜ë©´ `name`ë§Œ êµ¬ë…í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë„ ë¦¬ë Œë”ë§ ë©ë‹ˆë‹¤.

```tsx Person.tsx
const store = createStore({
  name: 'ê¹€ë„í˜„',
  age: 0,
});

const Name = () => {
  const { name } = useStore(store);

  return <div>Name: {name}</div>;
};

const Age = () => {
  const { age } = useStore(store);

  const increase = () => {
    store.setState((prev) => ({ ...prev, age: prev.age + 1 }));
  };

  return (
    <>
      <div>Age: {age}</div>
      <button onClick={increase}>Increase Button</button>
    </>
  );
};
```

<Example2 />

`React.memo`ë¡œ ê°ì‹¸ë„ ë™ì¼í•˜ê²Œ ë¦¬ë Œë”ë§ ë©ë‹ˆë‹¤. ë¦¬ë Œë”ë§ íŠ¸ë¦¬ê±°ê°€ `useSyncExternalStore`ì—ì„œ ë°œìƒí•˜ê³ , ì „ì²´ ê°ì²´ë¥¼ êµ¬ë…í•˜ê¸° ë•Œë¬¸ì— ê°ì²´ ì°¸ì¡°ê°€ ìƒˆë¡œì›Œì§€ë©´ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ê¸° ë•Œë¬¸ì´ì£ .

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `selector` ê°œë…ì„ ë„ì…í•´ ë³´ê² ìŠµë‹ˆë‹¤. í•µì‹¬ì€ `useSyncExternalStore`ê°€ `getSnapshot` ê²°ê³¼ë¥¼ ê¸°ì–µí•œë‹¤ëŠ” ì ì…ë‹ˆë‹¤. ë”°ë¼ì„œ **ë¬´ì—‡ì„ êµ¬ë…í• ì§€** ë§Œ ì¡°ì ˆí•´ ì£¼ë©´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```ts selective-store.ts
type Selector<T, U = T> = (state: T) => U;

export const useStore = <T, U = T>(
  store: Store<T>,
  selector: Selector<T, U> = (state) => state as unknown as U
) => {
  const slice = useSyncExternalStore(
    store.subscribe,
    () => selector(store.getState()),
    () => selector(store.getState())
  );

  return slice;
};
```

:::callout

**ì œë„¤ë¦­ íƒ€ì… `U`**

`selector`ëŠ” ê°ì²´ì—ì„œ ì¼ë¶€ë§Œ ì„ íƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— íƒ€ì…ì„ ì•ˆì „í•˜ê²Œ ì¶”ë¡ í•˜ê¸° ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

`T`ëŠ” `Store`ì—ì„œ ì¶”ë¡ ë˜ê³  `U`ëŠ” `Selector`ì—ì„œ ì¶”ë¡ ë©ë‹ˆë‹¤.

```ts
useStore(store); // T = { name: string; age: number }, U = T
useStore(store, (state) => state.name); // T = { name: string; age: number }, U = string
```

:::

ì´ì œ ì»´í¬ë„ŒíŠ¸ì—ì„œ ê°ì²´ì˜ ì›í•˜ëŠ” ê°’ë§Œ ê³¨ë¼ì„œ êµ¬ë…í•  ìˆ˜ ìˆê³ , ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ë„ ë°œìƒí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

```tsx Person.tsx
const store = createStore({
  name: 'ê¹€ë„í˜„',
  age: 0,
});

const Name = () => {
  const name = useStore(store, (state) => state.name);

  return <div>Name: {name}</div>;
};

const Age = () => {
  const age = useStore(store, (state) => state.age);

  const increase = () => {
    store.setState((prev) => ({ ...prev, age: prev.age + 1 }));
  };

  return (
    <>
      <div>Age: {age}</div>
      <button onClick={increase}>Increase Button</button>
    </>
  );
};
```

<Example3 />

## ìµœì í™”ëœ ìƒíƒœ ì €ì¥ì†Œ

`selector`ë¥¼ ì¶”ê°€í•˜ë©´ì„œ ì´ì œ í•„ìš”í•œ ë¶€ë¶„ë§Œ êµ¬ë…í•  ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì—¬ì „íˆ ë¬¸ì œê°€ í•˜ë‚˜ ë‚¨ì•„ìˆëŠ”ë°ìš”.

ì—¬ëŸ¬ ê°’ì„ ê°ì²´ë¡œ ë¬¶ì–´ì„œ ë°˜í™˜í•˜ë©´ ê°ì²´ ì°¸ì¡°ê°€ ë§¤ë²ˆ ìƒˆë¡œ ìƒì„±ë¼ ë¬´í•œ ë¦¬ë Œë”ë§ì´ ë°œìƒí•©ë‹ˆë‹¤.

```ts
useStore(store, (state) => ({ name: state.name, age: state.age }));
```

`React`ëŠ” ì°¸ì¡° ë™ë“±ì„±(`Object.is`)ìœ¼ë¡œ ìƒíƒœ ë³€í™”ë¥¼ ê°ì§€í•˜ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ ê°ì²´ê°€ ë§Œë“¤ì–´ì§ˆ ë•Œë§ˆë‹¤ `useSyncExternalStore`ëŠ” "ê°’ì´ ë‹¬ë¼ì¡Œë‹¤"ë¼ê³  íŒë‹¨í•©ë‹ˆë‹¤.

ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ `shallow` ê°œë…ì„ ë„ì…í•´ ë³´ê² ìŠµë‹ˆë‹¤. ê°ì²´ì˜ ê°’ì´ ë°”ë€Œì§€ ì•Šì•˜ë‹¤ë©´ ë™ì¼í•œ ì°¸ì¡°ë¥¼ ì „ë‹¬í•˜ë©´ ë©ë‹ˆë‹¤.

```ts use-shallow.ts
const equal = <T>(value1: T, value2: T) => {
  if (JSON.stringify(value1) === JSON.stringify(value2)) return true;

  return false;
};

export const useShallow = <T, U = T>(selector: Selector<T, U>) => {
  const prev = useRef<U>(null);

  return (state: T) => {
    const next = selector(state);

    return equal(prev.current, next) ? (prev.current as U) : (prev.current = next);
  };
};
```

:::callout

**JSON.stringify**

ê°„ë‹¨í•œ ë¹„êµë¥¼ ìœ„í•´ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. ê°ì²´ê°€ ê¹Šì–´ì§€ë©´ ë¹„íš¨ìœ¨ì ì¸ ì—°ì‚°ì´ ë˜ê¸° ë•Œë¬¸ì— `Zustand`ì—ì„œëŠ” ìì²´ êµ¬í˜„í•œ [shallow](https://github.com/pmndrs/zustand/blob/main/src/vanilla/shallow.ts) í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

:::

ì´ì „ê°’ì„ ì €ì¥í•œ í›„ ìƒˆ ê°’ê³¼ ë¹„êµí•´ ë™ì¼í•˜ë©´ ì´ì „ê°’ì„, ë‹¤ë¥´ë©´ ìƒˆ ê°’ì„ ë°˜í™˜í•˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

ì´ì œ ë¬¸ì œì—†ì´ ê°ì²´ì˜ ì—¬ëŸ¬ ê°’ì„ í•œ ë²ˆì— êµ¬ë…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```tsx Person.tsx
const store = createStore({
  name: 'ê¹€ë„í˜„',
  age: 0,
});

const Person = () => {
  const { name, age } = useStore(
    store,
    // !mark
    useShallow((state) => ({ name: state.name, age: state.age }))
  );

  const increase = () => {
    store.setState((prev) => ({ ...prev, age: prev.age + 1 }));
  };

  return (
    <>
      <div>Name: {name}</div>
      <div>Age: {age}</div>
      <button onClick={increase}>Increase Button</button>
    </>
  );
};
```

<Example4 />

## ë” ë‚˜ì•„ê°€ê¸°

ì´ì œ ì–´ëŠ ì •ë„ êµ¬ìƒ‰ì„ ê°–ì¶˜ ìƒíƒœ ì €ì¥ì†Œê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì¡°ê¸ˆ ë” í¸ë¦¬í•˜ê²Œ ì“¸ ìˆ˜ ìˆë„ë¡ ê°œì„ í•´ ë³´ê² ìŠµë‹ˆë‹¤.

### storeì™€ useStoreë¥¼ í•˜ë‚˜ë¡œ ë¬¶ê¸°

í˜„ì¬ëŠ” `store`ì™€ `useStore`ë¥¼ ë”°ë¡œ ë¶ˆëŸ¬ì™€ì•¼ í•©ë‹ˆë‹¤.

```ts
const store = createStore({ value: 0 });
const value = useStore(store, (state) => state.value);
```

ë§¤ë²ˆ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ëŠ” ê±´ ì¡°ê¸ˆ ë²ˆê±°ë¡­ì£ . `create` í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì„œ `store`ëŠ” ë‚´ë¶€ì—ì„œ ìƒì„±í•˜ê³  í´ë¡œì €ë§Œ ë°˜í™˜í•˜ë©´ ê¹”ë”í•´ì§‘ë‹ˆë‹¤.

```ts global-store.ts
export const create = <T>(initialState: T) => {
  const store = createStore(initialState);

  return <U = T>(selector?: Selector<T, U>) => useStore(store, selector);
};
```

```tsx
const useStore = create({
  name: 'ê¹€ë„í˜„',
});

const Person = () => {
  const name = useStore((state) => state.name);

  return <>{name}</>;
};
```

ì ì  ì‹¤ì œë¡œ ì‚¬ìš©í•˜ëŠ” `Zustand`ì™€ ë¹„ìŠ·í•´ì§€ì£ ?

### ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ê¸°

ì§€ê¸ˆì€ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `Hook`ìœ¼ë¡œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë°ìš”. ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©´ ì¢‹ê² ì£ ?

ì‚¬ì‹¤ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” ì½”ì–´ ë¡œì§ì€ Vanillaë¡œ ì´ë¯¸ ì‘ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ì´ ì¸í„°í˜ì´ìŠ¤ë¥¼ ë…¸ì¶œí•˜ê¸°ë§Œ í•˜ë©´ ë˜ëŠ”ë°ìš”. ê·¸ë ‡ë‹¤ê³  ì• ì¨ ì—†ì•¤ `store`ë¥¼ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ëŠ” ê±´ í”¼í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.

ë°˜í™˜ ì¤‘ì¸ í´ë¡œì €ì— Vanilla ë¡œì§ì„ ë¶™ì—¬ì„œ í•˜ë‚˜ì˜ í•¨ìˆ˜ë¥¼ `Hook`ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ì„œ `getState`, `setState`, `subscribe` ê°™ì€ ë©”ì„œë“œê¹Œì§€ í•¨ê»˜ ë…¸ì¶œí•˜ëŠ” êµ¬ì¡°ë¡œ ë§Œë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.

```ts global-store.ts
export const create = <T>(initialState: T) => {
  const store = createStore(initialState);

  const useBoundStore = <U = T>(selector?: Selector<T, U>) => useStore(store, selector);

  // !mark
  Object.assign(useBoundStore, store);

  return useBoundStore as typeof useBoundStore & typeof store;
};
```

```tsx
const useStore = create({
  name: 'ê¹€ë„í˜„',
});

useStore.getState().name; // 'ê¹€ë„í˜„'
```

### Getterì™€ Setter

ëìœ¼ë¡œ ì§€ê¸ˆê¹Œì§€ëŠ” `Hook`ì„ í†µí•´ì„œë§Œ ìƒíƒœë¥¼ ê°€ì ¸ì˜¤ê±°ë‚˜ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ `Hook`ì´ ë“¤ì–´ê°ˆ ìˆ˜ ì—†ëŠ” ìœ„ì¹˜ì—ì„œë„ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•˜ê±°ë‚˜, ê°™ì€ ìƒíƒœì˜ ìµœì‹  ê°’ì„ ì½ì–´ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ìƒê¸¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒíƒœ ì €ì¥ì†Œë¥¼ ìƒì„±í•  ë•Œ ë‚´ë¶€ì—ì„œ ì§ì ‘ ìƒíƒœë¥¼ ì½ê³  ì“¸ ìˆ˜ ìˆëŠ” ë©”ì„œë“œë¥¼ ì œê³µí•´ ë³´ê² ìŠµë‹ˆë‹¤.

```ts global-store.ts
// !mark
type StateCreator<T> = (set: Store<T>['setState'], get: Store<T>['getState']) => T;

// !mark
const createStore = <T>(createState: StateCreator<T>) => {
  const listeners = new Set<() => void>();

  const getState: Store<T>['getState'] = () => {
    return state;
  };

  const setState: Store<T>['setState'] = (value) => {
    const nextState = typeof value === 'function' ? (value as (state: T) => T)(state) : value;

    if (Object.is(nextState, state)) return;

    state = nextState;

    listeners.forEach((listener) => listener());
  };

  const subscribe: Store<T>['subscribe'] = (listener) => {
    listeners.add(listener);

    return () => listeners.delete(listener);
  };

  // !mark
  let state = createState(setState, getState);

  return { getState, setState, subscribe };
};

...

// !mark
export const create = <T>(createState: StateCreator<T>) => {
  const store = createStore(createState);

  const useBoundStore = <U = T>(selector?: Selector<T, U>) => useStore(store, selector);

  Object.assign(useBoundStore, store);

  return useBoundStore as typeof useBoundStore & typeof store;
};
```

ì €ì¥ì†Œ ìƒì„± ì‹œ `getter`ì™€ `setter`ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ê°–ëŠ” ì½œë°± í•¨ìˆ˜ë¥¼ ë„˜ê¹ë‹ˆë‹¤.

```tsx
const useStore = create((set, get) => ({
  name: 'ê¹€ë„í˜„',
  age: 0,
  increase: () => set((state) => ({ ...state, age: get().age + 1 })),
}));
```

## ë§ˆì¹˜ë©°

ë‘ë µê²Œë§Œ ëŠê»´ì¡Œë˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë‚´ë¶€ê°€ ìƒê°ë³´ë‹¤ ë‹¨ìˆœí•˜ê³  ëª…í™•í•œ ì›ë¦¬ë¡œ ë™ì‘í•œë‹¤ëŠ” ê±¸ ì•Œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. íŠ¹ë³„í•œ ë§ˆë²•ì´ ì•„ë‹ˆë¼ ìµìˆ™í•œ ê°œë…ë“¤ì´ ì˜ ì¡°í•©ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.

ë‹¨ê³„ë§ˆë‹¤ ì–´ë–¤ ë¬¸ì œë¥¼ í•´ê²°í•˜ë ¤ í–ˆëŠ”ì§€, ì™œ ì´ëŸ° êµ¬ì¡°ë¥¼ ì„ íƒí–ˆëŠ”ì§€ ì§ì ‘ êµ¬í˜„í•˜ë©´ì„œ ì´í•´í•´ ë³´ëŠ” ê³¼ì •ì´ ì¬ë¯¸ìˆì—ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ ì‚¬ìš©í•˜ë©´ì„œ ë‹¹ì—°í•˜ê²Œ ì—¬ê²¼ë˜ ê¸°ëŠ¥ë“¤ì´ ì´ëŸ° ê³ ë¯¼ ëì— ë§Œë“¤ì–´ì§„ ê±°ì˜€ë„¤ìš”.
